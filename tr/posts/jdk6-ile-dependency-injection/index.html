<!doctype html><html lang=tr><head><title>JDK6 da Dependency Injection (ServiceLoader) · Ramazan AYYILDIZ</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Ramazan AYYILDIZ"><meta name=description content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır."><meta name=keywords content="blog,developer,kişisel"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://rayyildiz.com/avatars/rayyildiz.jpg"><meta name=twitter:title content="JDK6 da Dependency Injection (ServiceLoader)"><meta name=twitter:description content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır."><meta property="og:url" content="https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/"><meta property="og:site_name" content="Ramazan AYYILDIZ"><meta property="og:title" content="JDK6 da Dependency Injection (ServiceLoader)"><meta property="og:description" content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır."><meta property="og:locale" content="tr"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-08-22T00:00:00+00:00"><meta property="article:modified_time" content="2010-08-22T00:00:00+00:00"><meta property="article:tag" content="Java"><meta property="og:image" content="https://rayyildiz.com/avatars/rayyildiz.jpg"><link rel=canonical href=https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/><link rel=preload href=https://rayyildiz.com/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://rayyildiz.com/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=https://rayyildiz.com/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=https://rayyildiz.com/css/coder.min.ebdf1a5dca6a69142e979b32668c69f2a95448b145a168104c5808b14d2b75b0.css integrity="sha256-698aXcpqaRQul5syZoxp8qlUSLFFoWgQTFgIsU0rdbA=" crossorigin=anonymous media=screen><link rel=stylesheet href=https://rayyildiz.com/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=https://rayyildiz.com/images/favicon.svg sizes=any><link rel=icon type=image/png href=https://rayyildiz.com/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=https://rayyildiz.com/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=https://rayyildiz.com/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=https://rayyildiz.com/images/apple-touch-icon.png><link rel=manifest href=https://rayyildiz.com/site.webmanifest><link rel=mask-icon href=https://rayyildiz.com/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://rayyildiz.com/tr/>Ramazan AYYILDIZ
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=https://rayyildiz.com/tr/posts/>Tüm Yazılar</a></li><li class=navigation-item><a class=navigation-link href=https://rayyildiz.com/tr/series>Yazı Dizileri</a></li><li class=navigation-item><a class=navigation-link href=https://rayyildiz.com/tr/categories/arsiv/>Arşiv</a></li><li class="navigation-item menu-separator"><span>|</span></li><li class=navigation-item><a href=https://rayyildiz.com/>English</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/>JDK6 da Dependency Injection (ServiceLoader)</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2010-08-22T00:00:00Z>Ağustos 22, 2010
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
Bir dakikalık okuma</span></div><div class=categories><i class="fa-solid fa-folder" aria-hidden=true></i>
<a href=https://rayyildiz.com/tr/categories/genel/>Genel</a>
<span class=separator>•</span>
<a href=https://rayyildiz.com/tr/categories/yazilim-gelistirme/>Yazilim Gelistirme</a></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=https://rayyildiz.com/tr/tags/java/>Java</a></span></div></div></header><div class=post-content><p>JDK6 da ise ServiceLoader gelmektedir. <a href=http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/util/ServiceLoader.html class=external-link target=_blank rel=noopener>ServiceLoader</a> sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.</p><p>Uygulamanın örnek test kodlarını <a href=http://github.com/rayyildiz/UserAuthSample class=external-link target=_blank rel=noopener>github</a> üzerinden bulabilmeniz mümkündür.</p><p>Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:</p><p><strong>UserAuth</strong>: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.</p><p><strong>UserAuthImpl</strong>: Uygulamanın gerçekleştirildiği sınıf yer alır.</p><p><strong>UserAuthTest</strong>: Main sınıfının yer aldığı örnek uygulamadır.</p><p><img src=https://rayyildiz.com/images/project_tree1.jpg alt="Project Tree"></p><p>Arayüzün yer aldığı UserAuth projesinde farklı olarak META-INF/services klasörü- ve bu klasör içinde com.rayyildiz.userauth.IUserAuthService dosyası yer almaktadır. Bu dosya içine bakarsanız sadece bir satır yer almaktadır.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>com.rayyildiz.userauth.impl.UserAuthService</span>
</span></span></code></pre></div><p>ServiceLoader bu dosyalara bakarak hangi implemantosyunu yüklemesi gerektiğini anlar. UserAuth.jar implementasyonun yer aldığı UserAuthImpl.jar referans olarak bilmez. SericeLoader load sırasında bu implementasyonu arayacaktır.</p><p>Burada asıl önemli test projemize bakalım:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> com.rayyildiz.userauth;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.Iterator;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.util.ServiceLoader;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Main</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        ServiceLoader<span style=color:#f92672>&lt;</span>IUserAuthService<span style=color:#f92672>&gt;</span> loader <span style=color:#f92672>=</span> ServiceLoader.<span style=color:#a6e22e>load</span>(IUserAuthService.<span style=color:#a6e22e>class</span>);
</span></span><span style=display:flex><span>        Iterator<span style=color:#f92672>&lt;</span>IUserAuthService<span style=color:#f92672>&gt;</span> iterator <span style=color:#f92672>=</span> loader.<span style=color:#a6e22e>iterator</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>while</span>(iterator<span style=color:#f92672>!=</span> <span style=color:#66d9ef>null</span> <span style=color:#f92672>&amp;&amp;</span> iterator.<span style=color:#a6e22e>hasNext</span>()){
</span></span><span style=display:flex><span>            IUserAuthService userAuthService <span style=color:#f92672>=</span> iterator.<span style=color:#a6e22e>next</span>();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>boolean</span> login <span style=color:#f92672>=</span> userAuthService.<span style=color:#a6e22e>login</span>(<span style=color:#e6db74>&#34;demo&#34;</span>, <span style=color:#e6db74>&#34;password&#34;</span>);
</span></span><span style=display:flex><span>            System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(<span style=color:#e6db74>&#34;Login for username: demo and password:password is &#34;</span> <span style=color:#f92672>+</span> login);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Gördüğünüz gibi test uygulaması implementasyon nesnesini görmez. ServiceLoader META-INF/services içinde yer alan dosyalara bakarak implementasyon nesnelerini örnek projenin olduğu klasörde ve CLASSPATH de arar.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2025
Ramazan AYYILDIZ</section></footer></main><script src=https://rayyildiz.com/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "012efc48b40e46dab7acdc375ba96820"}'></script></body></html>