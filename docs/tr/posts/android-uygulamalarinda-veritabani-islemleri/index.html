<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Ramazan AYYILDIZ">
    <meta name="description" content="Strona domowa John&#39;a Doe">
    <meta name="keywords" content="blog,developer,kisisel">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Android Uygulamalarında Veritabanı İşlemleri"/>
<meta name="twitter:description" content="Bir uygulama geliştirirken verilerin saklanması ihtiyacı doğmakta ve verilerin uygulamadan ayrı bir yapı olarak durması maksadıyla veritabını kullanılmaktadır. Android bir uygulama geliştirirken, aynı nedenden dolayı verilerin saklanması ihtiyacınız olacaktır. Micro device için uygulama geliştirmek, desktop bir bilgisayar için uygulama geliştirmekten daha zordur. Memory ve harddisk’inizin kısıtlı olması, işlemcinin gücü, multitask uygulama geliştirme sıkıntısı başlıcalarındandır. Android de ise yerleşik sqlite veritabanının yer alması ise Android’e önemli bir artı sunmaktadır.
Sqlite, oldukça önemli projelerde kullanılmış (Firefox,Skype, Mcfee, iPhone,…) ve de oldukçe iyi test edilmiş bir veritabanıdır."/>


    <base href="https://rayyildiz.com/tr/posts/android-uygulamalarinda-veritabani-islemleri/">
    <title>
  Android Uygulamalarında Veritabanı İşlemleri · Ramazan AYYILDIZ
</title>

    <link rel="canonical" href="https://rayyildiz.com/tr/posts/android-uygulamalarinda-veritabani-islemleri/">

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700|Merriweather:300,700|Source+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css" integrity="sha256-oSrCnRYXvHG31SBifqP2PM1uje7SJUyX0nTwO2RJV54=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://rayyildiz.com/css/coder.min.ac37073bc2826cd28ef57364a9fe339de7ebcb26dafc22fd832cb35cf5b1d048.css" integrity="sha256-rDcHO8KCbNKO9XNkqf4znefryyba/CL9gyyzXPWx0Eg=" crossorigin="anonymous" media="screen" />
    

    

    

    

    <link rel="icon" type="image/png" href="https://rayyildiz.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://rayyildiz.com/images/favicon-16x16.png" sizes="16x16">

    

    <meta name="generator" content="Hugo 0.53" />
  </head>

  <body class=" ">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://rayyildiz.com">
      Ramazan AYYILDIZ
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rayyildiz.com/tr/hakkimda/">Hakkimda</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://rayyildiz.com/tr/posts/">Blog</a>
          </li>
        
      
      
        
        
        
          
            
              <li class="navigation-item menu-separator">
                <span>|</span>
              </li>
              
            
            <li class="navigation-item">
              <a href="https://rayyildiz.com/">English</a>
            </li>
          
        
          
        
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Android Uygulamalarında Veritabanı İşlemleri</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2010-06-12T00:00:00Z'>
                June 12, 2010
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              5 minutes read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="https://rayyildiz.com/tr/categories/genel/">Genel</a>
      <span class="separator">•</span>
    <a href="https://rayyildiz.com/tr/categories/mobil/">Mobil</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://rayyildiz.com/tr/tags/android/">android</a>
      <span class="separator">•</span>
    <a href="https://rayyildiz.com/tr/tags/java/">java</a>
      <span class="separator">•</span>
    <a href="https://rayyildiz.com/tr/tags/database/">database</a></div>

        </div>
      </header>

      <div>
        <p>Bir uygulama geliştirirken verilerin saklanması ihtiyacı doğmakta ve verilerin uygulamadan ayrı bir yapı olarak durması maksadıyla veritabını kullanılmaktadır. Android bir uygulama geliştirirken, aynı nedenden dolayı verilerin saklanması ihtiyacınız olacaktır. Micro device için uygulama geliştirmek, desktop bir bilgisayar için uygulama geliştirmekten daha zordur. Memory ve harddisk’inizin kısıtlı olması, işlemcinin gücü, multitask uygulama geliştirme sıkıntısı başlıcalarındandır. Android de ise yerleşik sqlite veritabanının yer alması ise Android’e önemli bir artı sunmaktadır.</p>

<p><img src="https://rayyildiz.com/images/sqlite1.gif" alt="Sqlite" /></p>

<p><a href="http://www.sqlite.org/">Sqlite</a>, oldukça önemli projelerde kullanılmış (Firefox,Skype, Mcfee, iPhone,…) ve de oldukçe iyi <a href="http://www.sqlite.org/th3.html">test edilmiş</a> bir veritabanıdır. 4K stack ve 100K ise heap için yeterlidir. Android içinde ise gelen sqlite, bir android uygulamasının ihtiyac duyduğu veritabanı işlemlerini karşılayacak düzeydedir.</p>

<p>Bu giriş bilgilerinden sonra örnek bir uygulama geliştirelim. Uygulamamız, ad, soyad ve telefon numarası kayıt edeceğimiz bir “customer” tablosu olsun. Linux ‘ta sqliteman gibi bir uygulama ile veritabanınızı oluştururun. Örneğimizde kullanacağımız tablonun scripti şu şekildedir:</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#fff;font-weight:bold">CREATE</span> <span style="color:#fff;font-weight:bold">TABLE</span> <span style="color:#0ff;font-weight:bold">&#34;Customer&#34;</span> (
    <span style="color:#0ff;font-weight:bold">&#34;Id&#34;</span> <span style="color:#fff;font-weight:bold">INTEGER</span> <span style="color:#fff;font-weight:bold">PRIMARY</span> <span style="color:#fff;font-weight:bold">KEY</span>,
    <span style="color:#0ff;font-weight:bold">&#34;Firstname&#34;</span> <span style="color:#fff;font-weight:bold">TEXT</span>,
    <span style="color:#0ff;font-weight:bold">&#34;Lastname&#34;</span> <span style="color:#fff;font-weight:bold">TEXT</span>,
    <span style="color:#0ff;font-weight:bold">&#34;PhoneNumber&#34;</span> <span style="color:#fff;font-weight:bold">TEXT</span>
    );</code></pre></div>
<p>Daha sonra ise IDE nizde bir android uygulaması açınız(<a href="https://rayyildiz.com/2010/06/android-icin-uygulama-gelitirme/">Android ile Uygulama Geliştirme</a> yazısından faydalanabilirsiniz). Ben daha eski telefonlarda kullanılabilmesi için 1.6 uygulması actım. Daha sonra ise droiddraw ana ekran tasarlıyoruz.</p>

<p>Veritabanı ilk acıldığında tablonun create edilmesi için create script i kod içine almamız gerekir. Aynı şekilde örneğimizde compiled statement kullanıyoruz. Şu anda sadece insert ve getAll metodunu implemente ettik.</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DbHelper {
    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String DATABASE_NAME = <span style="color:#0ff;font-weight:bold">&#34;rayyildiz_sample.db&#34;</span>;
    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> DATABASE_VERSION = 1;
    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String TABLE_NAME = <span style="color:#0ff;font-weight:bold">&#34;Customer&#34;</span>;
    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String TABLE_CREATE = <span style="color:#0ff;font-weight:bold">&#34;CREATE TABLE &#34;</span> + TABLE_NAME + <span style="color:#0ff;font-weight:bold">&#34; ( &#34;</span>
        + <span style="color:#0ff;font-weight:bold">&#34;  \&#34;Id\&#34; INTEGER PRIMARY KEY,&#34;</span>
        + <span style="color:#0ff;font-weight:bold">&#34;  \&#34;Firstname\&#34; TEXT,&#34;</span>
        + <span style="color:#0ff;font-weight:bold">&#34;  \&#34;Lastname\&#34; TEXT,&#34;</span>
        + <span style="color:#0ff;font-weight:bold">&#34;  \&#34;PhoneNumber\&#34; TEXT&#34;</span> + <span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>;

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> String TABLE_INSERT = <span style="color:#0ff;font-weight:bold">&#34;INSERT INTO &#34;</span> + TABLE_NAME + <span style="color:#0ff;font-weight:bold">&#34;(Firstname,Lastname,PhoneNumber) VALUES (?,?,?)&#34;</span>;
    <span style="color:#fff;font-weight:bold">private</span> Context context;
    <span style="color:#fff;font-weight:bold">private</span> SQLiteDatabase database;
    <span style="color:#fff;font-weight:bold">private</span> SQLiteStatement insertSQLiteStatement;

    <span style="color:#fff;font-weight:bold">public</span> DbHelper(Context context) {
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">context</span> = context;
        DbOpenHelper dbOpenHelper = <span style="color:#fff;font-weight:bold">new</span> DbOpenHelper(context);
        database = dbOpenHelper.<span style="color:#007f7f">getWritableDatabase</span>();
        insertSQLiteStatement = database.<span style="color:#007f7f">compileStatement</span>(TABLE_INSERT);
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">long</span> insertCustomer(Customer customer) {
        <span style="color:#fff;font-weight:bold">if</span> (customer == <span style="color:#fff;font-weight:bold">null</span>) {
            <span style="color:#fff;font-weight:bold">return</span> -1;
        }
        insertSQLiteStatement.<span style="color:#007f7f">bindString</span>(1, customer.<span style="color:#007f7f">getFirstname</span>());
        insertSQLiteStatement.<span style="color:#007f7f">bindString</span>(2, customer.<span style="color:#007f7f">getLastname</span>());
        insertSQLiteStatement.<span style="color:#007f7f">bindString</span>(3, customer.<span style="color:#007f7f">getPhoneNumber</span>());

        <span style="color:#fff;font-weight:bold">return</span> insertSQLiteStatement.<span style="color:#007f7f">executeInsert</span>();
    }

    <span style="color:#fff;font-weight:bold">public</span> List getAllCustomer() {
        List customers = <span style="color:#fff;font-weight:bold">new</span> ArrayList();
        Cursor cursor = database.<span style="color:#007f7f">query</span>(TABLE_NAME, <span style="color:#fff;font-weight:bold">new</span> String[]{<span style="color:#0ff;font-weight:bold">&#34;id,Firstname,Lastname,PhoneNumber&#34;</span>}, <span style="color:#fff;font-weight:bold">null</span>, <span style="color:#fff;font-weight:bold">null</span>, <span style="color:#fff;font-weight:bold">null</span>, <span style="color:#fff;font-weight:bold">null</span>, <span style="color:#0ff;font-weight:bold">&#34;id desc&#34;</span>);
        <span style="color:#fff;font-weight:bold">if</span> (cursor.<span style="color:#007f7f">moveToFirst</span>()) {
            <span style="color:#fff;font-weight:bold">do</span> {
                Customer c = <span style="color:#fff;font-weight:bold">new</span> Customer();
                c.<span style="color:#007f7f">setId</span>(cursor.<span style="color:#007f7f">getInt</span>(0));
                c.<span style="color:#007f7f">setFirstname</span>(cursor.<span style="color:#007f7f">getString</span>(1));
                c.<span style="color:#007f7f">setLastname</span>(cursor.<span style="color:#007f7f">getString</span>(2));
                c.<span style="color:#007f7f">setPhoneNumber</span>(cursor.<span style="color:#007f7f">getString</span>(3));

                customers.<span style="color:#007f7f">add</span>(c);
            } <span style="color:#fff;font-weight:bold">while</span> (cursor.<span style="color:#007f7f">moveToNext</span>());
        }
        <span style="color:#fff;font-weight:bold">if</span> (cursor != <span style="color:#fff;font-weight:bold">null</span> &amp;amp;&amp;amp; !cursor.<span style="color:#007f7f">isClosed</span>()) {
            cursor.<span style="color:#007f7f">close</span>();
        }
        <span style="color:#fff;font-weight:bold">return</span> customers;
    }

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">class</span> DbOpenHelper <span style="color:#fff;font-weight:bold">extends</span> SQLiteOpenHelper {
        <span style="color:#fff;font-weight:bold">public</span> DbOpenHelper(Context context) {
            <span style="color:#fff;font-weight:bold">super</span>(context, DATABASE_NAME, <span style="color:#fff;font-weight:bold">null</span>, DATABASE_VERSION);
        }

        @Override
        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onCreate(SQLiteDatabase db) {
            db.<span style="color:#007f7f">execSQL</span>(TABLE_CREATE);
        }

        @Override
        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onUpgrade(SQLiteDatabase db, <span style="color:#fff;font-weight:bold">int</span> oldVersion, <span style="color:#fff;font-weight:bold">int</span> newVersion) {
            db.<span style="color:#007f7f">execSQL</span>(<span style="color:#0ff;font-weight:bold">&#34;DROP TABLE IF EXISTS &#34;</span> + TABLE_NAME);
            onCreate(db);
        }
    }
}</code></pre></div>
<p>Bu ise Customer nesnesi</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> Customer {
    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">int</span> id;
    <span style="color:#fff;font-weight:bold">private</span> String firstname;
    <span style="color:#fff;font-weight:bold">private</span> String lastname;
    <span style="color:#fff;font-weight:bold">private</span> String phoneNumber;

    <span style="color:#fff;font-weight:bold">public</span> String getFirstname() {
        <span style="color:#fff;font-weight:bold">return</span> firstname;
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setFirstname(String firstname) {
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">firstname</span> = firstname;
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">int</span> getId() {
        <span style="color:#fff;font-weight:bold">return</span> id;
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setId(<span style="color:#fff;font-weight:bold">int</span> id) {
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">id</span> = id;
    }

    <span style="color:#fff;font-weight:bold">public</span> String getLastname() {
        <span style="color:#fff;font-weight:bold">return</span> lastname;
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setLastname(String lastname) {
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">lastname</span> = lastname;
    }

    <span style="color:#fff;font-weight:bold">public</span> String getPhoneNumber() {
        <span style="color:#fff;font-weight:bold">return</span> phoneNumber;
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> setPhoneNumber(String phoneNumber) {
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">phoneNumber</span> = phoneNumber;
    }
}</code></pre></div>
<p>İki tane Aktivity ekleyelim birisi MainActivity, diğeri ise Customer bilgilerini giriş yapabileceğimiz Activity olsun.</p>

<p>Bunlardan AddCustomerActivity şu şekilde:</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> AddCustomerActivity <span style="color:#fff;font-weight:bold">extends</span> Activity {
    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">int</span> SUCCESS_RETURN_CODE = 1;
    <span style="color:#fff;font-weight:bold">private</span> DbHelper m_db;

    @Override
    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> onCreate(Bundle savedInstanceState) {
        <span style="color:#fff;font-weight:bold">super</span>.<span style="color:#007f7f">onCreate</span>(savedInstanceState);
        setContentView(R.<span style="color:#007f7f">layout</span>.<span style="color:#007f7f">insert</span>);

        m_db = <span style="color:#fff;font-weight:bold">new</span> DbHelper(<span style="color:#fff;font-weight:bold">this</span>);
        Button saveButton = (Button) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">btnSave</span>);
        <span style="color:#fff;font-weight:bold">final</span>  EditText textFirstname = (EditText) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">textFirstname</span>);
        <span style="color:#fff;font-weight:bold">final</span> EditText textLastname = (EditText) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">textLastname</span>);
        <span style="color:#fff;font-weight:bold">final</span> EditText textPhoneNumber = (EditText) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">textPhoneNumber</span>);

        saveButton.<span style="color:#007f7f">setOnClickListener</span>(<span style="color:#fff;font-weight:bold">new</span> View.<span style="color:#007f7f">OnClickListener</span>() {
            @Override
            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onClick(View v) {
                Intent intent = <span style="color:#fff;font-weight:bold">new</span> Intent();
                Customer c = <span style="color:#fff;font-weight:bold">new</span> Customer();
                c.<span style="color:#007f7f">setFirstname</span>(textFirstname.<span style="color:#007f7f">getText</span>().<span style="color:#007f7f">toString</span>());
                c.<span style="color:#007f7f">setLastname</span>(textLastname.<span style="color:#007f7f">getText</span>().<span style="color:#007f7f">toString</span>());
                c.<span style="color:#007f7f">setPhoneNumber</span>(textPhoneNumber.<span style="color:#007f7f">getText</span>().<span style="color:#007f7f">toString</span>());
                m_db.<span style="color:#007f7f">insertCustomer</span>(c);
                setResult(SUCCESS_RETURN_CODE, intent);
                finish();
            }
        });
    }
}</code></pre></div>
<p>Ve Main Activity şu şekildedir</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> MainActivity <span style="color:#fff;font-weight:bold">extends</span> Activity {

    <span style="color:#fff;font-weight:bold">private</span> ProgressDialog m_ProgressDialog = <span style="color:#fff;font-weight:bold">null</span>;
    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">static</span> <span style="color:#fff;font-weight:bold">final</span> <span style="color:#fff;font-weight:bold">int</span> SUB_ACTIVITY_REQUEST_CODE = 100;<span style="color:#fff;font-weight:bold">private</span> ArrayList m_customers = <span style="color:#fff;font-weight:bold">null</span>;
    <span style="color:#fff;font-weight:bold">private</span> DataAdapter m_adapter;
    <span style="color:#fff;font-weight:bold">private</span> Runnable viewData;
    DbHelper m_db;

    @Override
    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onCreate(Bundle icicle) {
        <span style="color:#fff;font-weight:bold">super</span>.<span style="color:#007f7f">onCreate</span>(icicle);
        setContentView(R.<span style="color:#007f7f">layout</span>.<span style="color:#007f7f">main</span>);
        m_db = <span style="color:#fff;font-weight:bold">new</span> DbHelper(<span style="color:#fff;font-weight:bold">this</span>);
        m_customers = <span style="color:#fff;font-weight:bold">new</span> ArrayList();
        <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">m_adapter</span> = <span style="color:#fff;font-weight:bold">new</span> DataAdapter(<span style="color:#fff;font-weight:bold">this</span>, R.<span style="color:#007f7f">layout</span>.<span style="color:#007f7f">row</span>, m_customers);
        setListAdapter(<span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">m_adapter</span>);
        
        Button refreshButton = (Button)findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">btnRefresh</span>);
        refreshButton.<span style="color:#007f7f">setOnClickListener</span>(<span style="color:#fff;font-weight:bold">new</span> View.<span style="color:#007f7f">OnClickListener</span>() {
            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onClick(View arg0) {
                refresh();
            }
        });

        Button addButton = (Button) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">btnAdd</span>);
        addButton.<span style="color:#007f7f">setOnClickListener</span>(<span style="color:#fff;font-weight:bold">new</span> View.<span style="color:#007f7f">OnClickListener</span>() {

            <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> onClick(View v) {
                Intent i = <span style="color:#fff;font-weight:bold">new</span> Intent(MainActivity.<span style="color:#007f7f">this</span>,AddCustomerActivity.<span style="color:#007f7f">class</span>);
                startActivityForResult(i, SUB_ACTIVITY_REQUEST_CODE);
            }
        });
    }

    @Override
    <span style="color:#fff;font-weight:bold">protected</span> <span style="color:#fff;font-weight:bold">void</span> onActivityResult(<span style="color:#fff;font-weight:bold">int</span> requestCode, <span style="color:#fff;font-weight:bold">int</span> resultCode, Intent data) {
        <span style="color:#fff;font-weight:bold">super</span>.<span style="color:#007f7f">onActivityResult</span>(requestCode, resultCode, data);
        <span style="color:#fff;font-weight:bold">if</span> (requestCode == SUB_ACTIVITY_REQUEST_CODE) {
            refresh();
        }
    }

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> setListAdapter(DataAdapter m_adapter) {
        ListView lw = (ListView) findViewById(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">listCustomer</span>);
        <span style="color:#fff;font-weight:bold">if</span> (lw != <span style="color:#fff;font-weight:bold">null</span>) {
            lw.<span style="color:#007f7f">setAdapter</span>(m_adapter);
        }
    }

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> insert(Customer c){
        m_db.<span style="color:#007f7f">insertCustomer</span>(c);
    }

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> refresh(){
        WorkerThread thread = <span style="color:#fff;font-weight:bold">new</span> WorkerThread();
        thread.<span style="color:#007f7f">start</span>();
        m_ProgressDialog = ProgressDialog.<span style="color:#007f7f">show</span>(MainActivity.<span style="color:#007f7f">this</span>,
            <span style="color:#0ff;font-weight:bold">&#34;Please wait...&#34;</span>, <span style="color:#0ff;font-weight:bold">&#34;Resfreshing data ...&#34;</span>, <span style="color:#fff;font-weight:bold">true</span>);
    }

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">class</span> WorkerThread <span style="color:#fff;font-weight:bold">extends</span> Thread {
        @Override
        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> run() {
            getCustomers();
        }
    }

    <span style="color:#fff;font-weight:bold">private</span> Runnable returnRes = <span style="color:#fff;font-weight:bold">new</span> Runnable() {
        @Override
        <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">void</span> run() {
            <span style="color:#fff;font-weight:bold">if</span> (m_customers != <span style="color:#fff;font-weight:bold">null</span> &amp;amp;&amp;amp; m_customers.<span style="color:#007f7f">size</span>() &amp;gt; 0) {
                m_adapter.<span style="color:#007f7f">clear</span>();
                m_adapter.<span style="color:#007f7f">notifyDataSetChanged</span>();
                <span style="color:#fff;font-weight:bold">for</span> (<span style="color:#fff;font-weight:bold">int</span> i = 0; i &amp;lt; m_customers.<span style="color:#007f7f">size</span>(); i++) {
                    m_adapter.<span style="color:#007f7f">add</span>(m_customers.<span style="color:#007f7f">get</span>(i));
                }
            }
            m_ProgressDialog.<span style="color:#007f7f">dismiss</span>();
            m_adapter.<span style="color:#007f7f">notifyDataSetChanged</span>();
        }
    };

    <span style="color:#fff;font-weight:bold">private</span> <span style="color:#fff;font-weight:bold">void</span> getCustomers() {
        <span style="color:#fff;font-weight:bold">try</span> {
            m_customers = <span style="color:#fff;font-weight:bold">new</span> ArrayList();

            m_customers = (ArrayList) m_db.<span style="color:#007f7f">getAllCustomer</span>();    
        } <span style="color:#fff;font-weight:bold">catch</span> (Exception e) {
            Log.<span style="color:#007f7f">e</span>(<span style="color:#0ff;font-weight:bold">&#34;BACKGROUND_PROC&#34;</span>, e.<span style="color:#007f7f">getMessage</span>());
        }
        runOnUiThread(returnRes);
    }

    <span style="color:#fff;font-weight:bold">public</span> <span style="color:#fff;font-weight:bold">class</span> DataAdapter <span style="color:#fff;font-weight:bold">extends</span> ArrayAdapter{
        <span style="color:#fff;font-weight:bold">private</span> ArrayList items;

        <span style="color:#fff;font-weight:bold">public</span> DataAdapter(Context context, <span style="color:#fff;font-weight:bold">int</span> textViewResourceId, ArrayList items) {
            <span style="color:#fff;font-weight:bold">super</span>(context, textViewResourceId, items);
            <span style="color:#fff;font-weight:bold">this</span>.<span style="color:#007f7f">items</span> = items;
        }

        @Override
        <span style="color:#fff;font-weight:bold">public</span> View getView(<span style="color:#fff;font-weight:bold">int</span> position, View convertView, ViewGroup parent) {
            View v = convertView;
            <span style="color:#fff;font-weight:bold">if</span> (v == <span style="color:#fff;font-weight:bold">null</span>) {
                LayoutInflater vi = (LayoutInflater) getSystemService(Context.<span style="color:#007f7f">LAYOUT_INFLATER_SERVICE</span>);
                v = vi.<span style="color:#007f7f">inflate</span>(R.<span style="color:#007f7f">layout</span>.<span style="color:#007f7f">row</span>, <span style="color:#fff;font-weight:bold">null</span>);
            }
            Customer o = items.<span style="color:#007f7f">get</span>(position);
            <span style="color:#fff;font-weight:bold">if</span> (o != <span style="color:#fff;font-weight:bold">null</span>) {
                TextView tt = (TextView) v.<span style="color:#007f7f">findViewById</span>(R.<span style="color:#007f7f">id</span>.<span style="color:#007f7f">listLabeltext</span>);
                <span style="color:#fff;font-weight:bold">if</span> (tt != <span style="color:#fff;font-weight:bold">null</span>) {
                    tt.<span style="color:#007f7f">setText</span>(o.<span style="color:#007f7f">getId</span>() +<span style="color:#0ff;font-weight:bold">&#34; : &#34;</span> + o.<span style="color:#007f7f">getFirstname</span>() + <span style="color:#0ff;font-weight:bold">&#34; &#34;</span> + o.<span style="color:#007f7f">getLastname</span>() + <span style="color:#0ff;font-weight:bold">&#34;(&#34;</span>+ o.<span style="color:#007f7f">getPhoneNumber</span>() + <span style="color:#0ff;font-weight:bold">&#34;)&#34;</span>);
                }
            }
            <span style="color:#fff;font-weight:bold">return</span> v;
        }
    }
}</code></pre></div>
<p>Örnek uygulamamızın ekran görüntüleri</p>

<p><img src="https://rayyildiz.com/images/add_customer1.png" alt="Add Customer" /></p>

<p><img src="https://rayyildiz.com/images/list_customers1.png" alt="List Customers" /></p>

<p>Uygulamanın kaynak kodunu ise <a href="https://github.com/rayyildiz/nbase">Githup</a> üzerinden indirebilirsiniz.</p>

      </div>

      <footer>
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rayyildiz" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>Bilgi Paylasildikca buyur</p>
    
    
    
    
  </section>
</footer>

    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-765318-11', 'auto');
	
	ga('send', 'pageview');
}
</script>


  </body>

</html>
