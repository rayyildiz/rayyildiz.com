
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="author" content="Ramazan AYYILDIZ" />
    <title>Java’da Vector ve ArrayList Performans Karşılaştırması</title>

    <link rel="stylesheet" href="/assets/themes/dinky/css/styles.css">
    <link rel="stylesheet" href="/assets/themes/dinky/css/pygment_trac.css">
    <script src="/assets/themes/dinky/js/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-765318-11']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="/">rayyildiz.com</a></h1>
        <p class="header">java, play framework, scala, yeni teknolojiler</p>
        <ul>
          
          
          


  
    
      
      	
      	<li><a href="/about.html">Hakkımda</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/archive.html">Arşiv</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/categories.html">Kategoriler</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Sayfalar</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



        </ul>
        
        
        <div class="misc vcard">
          <h4>about</h4>
          <ul>
            
            
            <li class="github"><a href="http://github.com/rayyildiz/" rel="me">github.com/rayyildiz</a></li>
            
            
            <li class="twitter"><a href="http://twitter.com/rayyildiz/" rel="me">twitter.com/rayyildiz</a></li>
            
            
            
            
            
          </ul>
        </div><!-- misc -->
        
      </header>

      <section>
      
<section>
  <h1>Java’da Vector ve ArrayList Performans Karşılaştırması</h1>

  <p>javada, Vector ve ArrayList arasındaki farkın ne olduğunu sorulduğunda, genel olarak şunları söyleriz</p>

<ul>
<li>Vector’un thread-safe‘dir.</li>

<li>Vector kapasitesi 2 kat artacak şekildedir (eğer capacityIncrement değeri verilmediyse).</li>

<li>ArrayList her seferinde kapasitesinin yarısı kadar ( %50) kapasitesini artırır.</li>

<li>Herikisi de öntanımlı olarak 10 element saklayabilecek şekilde ilklenir.</li>
</ul>

<p>Burada en çok Vector’un thread-safe özelliği öne çıkar. Yani Vector; ArrayList e göre, içindeki verinin doğruluğunu garanti eder. Hız olarak nasıl bir etkisi olduğuna ise inceleyelim.</p>

<p>Peki vector ve ArrayList performans olarak nasıl bir farkı vardır. Bunun için örnek yazdığım uygulamayı <a href='http://github.com/rayyildiz/PerformanceTest'>http://github.com/rayyildiz/PerformanceTest</a> inceleyebilirsiniz.</p>

<p>Performans karşılaştırılmasında 100.000 tane rastgele oluşturulmuş sayılar eklenip, işlem yapılmaktadır.</p>

<h3 id='ekleme_lemi'>Ekleme İşlemi</h3>

<p>Vector ve ArrayList e rastgele oluşturulmuş 100.000 element ekleniyor</p>
<div class='highlight'><pre><code class='java'><span class='n'>IList</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>vectorList</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>IntegerVectorListImpl</span><span class='o'>();</span>
<span class='n'>IList</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>arrayList</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>IntegerArrayListImpl</span><span class='o'>();</span>
<span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>randomIntegers</span> <span class='o'>=</span> <span class='n'>getRandomIntegers</span><span class='o'>(</span><span class='mi'>100000</span><span class='o'>);</span>
<span class='kt'>long</span> <span class='n'>start</span><span class='o'>,</span><span class='n'>end</span><span class='o'>;</span>
 
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Start for inserting ARRAYLIST&quot;</span><span class='o'>);</span>
<span class='n'>start</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>
<span class='k'>for</span><span class='o'>(</span><span class='n'>Integer</span> <span class='n'>i</span> <span class='o'>:</span> <span class='n'>randomIntegers</span><span class='o'>)</span> <span class='n'>arrayList</span><span class='o'>.</span><span class='na'>insert</span><span class='o'>(</span><span class='n'>i</span><span class='o'>);</span>
<span class='n'>end</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>

<span class='kt'>long</span> <span class='n'>differenceOfArrayList</span> <span class='o'>=</span> <span class='n'>end</span> <span class='o'>-</span> <span class='n'>start</span><span class='o'>;</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;ArrayList time difference :&quot;</span> <span class='o'>+</span> <span class='n'>differenceOfArrayList</span> <span class='o'>+</span> <span class='s'>&quot; ms&quot;</span><span class='o'>);</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;End for inserting ARRAYLIST&quot;</span><span class='o'>);</span>
 
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Start for inserting VECTOR&quot;</span><span class='o'>);</span>
<span class='n'>start</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>
<span class='k'>for</span><span class='o'>(</span><span class='n'>Integer</span> <span class='n'>i</span> <span class='o'>:</span> <span class='n'>randomIntegers</span><span class='o'>)</span> <span class='n'>vectorList</span><span class='o'>.</span><span class='na'>insert</span><span class='o'>(</span><span class='n'>i</span><span class='o'>);</span>
<span class='n'>end</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>

<span class='kt'>long</span> <span class='n'>differenceOfVector</span> <span class='o'>=</span> <span class='n'>end</span> <span class='o'>-</span> <span class='n'>start</span><span class='o'>;</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Vector time difference :&quot;</span> <span class='o'>+</span> <span class='n'>differenceOfVector</span> <span class='o'>+</span> <span class='s'>&quot; ms&quot;</span><span class='o'>);</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;End for inserting VECTOR&quot;</span><span class='o'>);</span>
</code></pre></div>
<p>Bu test işlemi sonucunda alınan değerler şu şekilde. <table>
	<tr>
		<th> </th>
		<th>En iyi değer</th>
		<th>En Kötü değer</th>
		<th>Ortalama</th>
	</tr>
	<tr>
		<td>Vector</td>
		<td>29</td>
		<td>58</td>
		<td>36.45</td>
	</tr>
	<tr>
		<td>ArrayList</td>
		<td>17</td>
		<td>30</td>
		<td>24.9</td>
	</tr>
</table></p>

<p>Görüldüğü gibi ArrayList ekleme işlemlerinde daha hızlı çalışıyor.</p>

<h3 id='arama_lemi'>Arama İşlemi</h3>

<p>Bir üstteki örnekte olduğu gibi, 100.000 kayıt eklenerek, bu kayıtlar içinden bir değer aranıyor.</p>
<div class='highlight'><pre><code class='java'><span class='n'>IList</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>vectorList</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>IntegerVectorListImpl</span><span class='o'>();</span>
<span class='n'>IList</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>arrayList</span> <span class='o'>=</span> <span class='k'>new</span> <span class='n'>IntegerArrayListImpl</span><span class='o'>();</span>
<span class='n'>List</span><span class='o'>&lt;</span><span class='n'>Integer</span><span class='o'>&gt;</span> <span class='n'>randomIntegers</span> <span class='o'>=</span> <span class='n'>getRandomIntegers</span><span class='o'>(</span><span class='mi'>100000</span><span class='o'>);</span>
<span class='kt'>long</span> <span class='n'>start</span><span class='o'>,</span><span class='n'>end</span><span class='o'>;</span>
 
<span class='k'>for</span><span class='o'>(</span><span class='n'>Integer</span> <span class='n'>i</span> <span class='o'>:</span> <span class='n'>randomIntegers</span><span class='o'>)</span> <span class='n'>arrayList</span><span class='o'>.</span><span class='na'>insert</span><span class='o'>(</span><span class='n'>i</span><span class='o'>);</span>
<span class='k'>for</span><span class='o'>(</span><span class='n'>Integer</span> <span class='n'>i</span> <span class='o'>:</span> <span class='n'>randomIntegers</span><span class='o'>)</span> <span class='n'>vectorList</span><span class='o'>.</span><span class='na'>insert</span><span class='o'>(</span><span class='n'>i</span><span class='o'>);</span>
 
<span class='n'>Integer</span> <span class='n'>findObj</span> <span class='o'>=</span> <span class='mi'>777</span><span class='o'>;</span>
 
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Start for search ARRAYLIST&quot;</span><span class='o'>);</span>
<span class='n'>start</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>
<span class='n'>arrayList</span><span class='o'>.</span><span class='na'>search</span><span class='o'>(</span><span class='n'>findObj</span><span class='o'>);</span>
<span class='n'>end</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>

<span class='kt'>long</span> <span class='n'>differenceOfArrayList</span> <span class='o'>=</span> <span class='n'>end</span> <span class='o'>-</span><span class='err'>¬†</span> <span class='n'>start</span><span class='o'>;</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;ArrayList time difference :&quot;</span> <span class='o'>+</span> <span class='n'>differenceOfArrayList</span> <span class='o'>+</span> <span class='s'>&quot; ms&quot;</span><span class='o'>);</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;End for search ARRAYLIST&quot;</span><span class='o'>);</span>
 
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Start for search VECTOR&quot;</span><span class='o'>);</span>
<span class='n'>start</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>
<span class='n'>vectorList</span><span class='o'>.</span><span class='na'>search</span><span class='o'>(</span><span class='n'>findObj</span><span class='o'>);</span>
<span class='n'>end</span> <span class='o'>=</span> <span class='n'>System</span><span class='o'>.</span><span class='na'>currentTimeMillis</span><span class='o'>();</span>

<span class='kt'>long</span> <span class='n'>differenceOfVector</span> <span class='o'>=</span> <span class='n'>end</span> <span class='o'>-</span><span class='err'>¬†</span> <span class='n'>start</span><span class='o'>;</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;Vector time difference :&quot;</span> <span class='o'>+</span> <span class='n'>differenceOfVector</span> <span class='o'>+</span> <span class='s'>&quot; ms&quot;</span><span class='o'>);</span>
<span class='n'>write</span><span class='o'>(</span><span class='s'>&quot;End for search VECTOR&quot;</span><span class='o'>);</span>
</code></pre></div>
<p>Bununla ilgili sonuc şu şekilde: <table>
	<tr>
		<th> </th>
		<th>En iyi değer</th>
		<th>En Kötü değer</th>
		<th>Ortalama</th>
	</tr>
	<tr>
		<td>Vector</td>
		<td>6</td>
		<td>9</td>
		<td>7.6</td>
	</tr>
	<tr>
		<td>ArrayList</td>
		<td>6</td>
		<td>13</td>
		<td>7.4</td>
	</tr>
</table></p>

<p>Görüldüğü gibi ArrayList vector den cok az daha hızlı arama işlemi yapabiliyor sunuz.</p>

<h3 id='sonu_olarak'>Sonuç Olarak</h3>

<p>Sonuç olarak ise Vector thread-safe özelliğinden dolayı daha güvenli olduğu halde biraz yavaş çalışmaktadır. ArrayList ise daha hızlı olup, multi-thread uygulamalarda verinin doğruluğunu garanti edememektedir</p>

  


  <div id="disqus_thread"></div>
<script type="text/javascript">
    
    var disqus_shortname = 'rayyildiz'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




</section>


      </section>

      <footer>
      
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
  </body>
</html>

