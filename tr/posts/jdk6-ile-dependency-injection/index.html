<!doctype html><html lang=tr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta http-equiv=content-language content="tr">
<meta name=color-scheme content="light dark">
<meta name=author content="Ramazan AYYILDIZ">
<meta name=description content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır.">
<meta name=keywords content="blog,developer,kişisel">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://rayyildiz.com/avatars/rayyildiz.jpg">
<meta name=twitter:title content="JDK6 da Dependency Injection (ServiceLoader)">
<meta name=twitter:description content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır.">
<meta property="og:title" content="JDK6 da Dependency Injection (ServiceLoader)">
<meta property="og:description" content="JDK6 da ise ServiceLoader gelmektedir. ServiceLoader sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.
Uygulamanın örnek test kodlarını github üzerinden bulabilmeniz mümkündür.
Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:
UserAuth: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.
UserAuthImpl: Uygulamanın gerçekleştirildiği sınıf yer alır.
UserAuthTest: Main sınıfının yer aldığı örnek uygulamadır.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/"><meta property="og:image" content="https://rayyildiz.com/avatars/rayyildiz.jpg"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2010-08-22T00:00:00+00:00">
<meta property="article:modified_time" content="2010-08-22T00:00:00+00:00"><meta property="og:site_name" content="Ramazan AYYILDIZ">
<title>
JDK6 da Dependency Injection (ServiceLoader) · Ramazan AYYILDIZ
</title>
<link rel=canonical href=https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/>
<link rel=preload href="https://rayyildiz.com/fonts/forkawesome-webfont.woff2?v=1.2.0" as=font type=font/woff2 crossorigin>
<link rel=stylesheet href=https://rayyildiz.com/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css integrity="sha256-2f3b/+byfmmYXcX+BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin=anonymous media=screen>
<link rel=stylesheet href=https://rayyildiz.com/css/coder-dark.min.002ee2378e14c7a68f1f0a53d9694ed252090987c4e768023fac694a4fc5f793.css integrity="sha256-AC7iN44Ux6aPHwpT2WlO0lIJCYfE52gCP6xpSk/F95M=" crossorigin=anonymous media=screen>
<link rel=icon type=image/png href=https://rayyildiz.com/images/favicon-32x32.png sizes=32x32>
<link rel=icon type=image/png href=https://rayyildiz.com/images/favicon-16x16.png sizes=16x16>
<link rel=apple-touch-icon href=https://rayyildiz.com/images/apple-touch-icon.png>
<link rel=apple-touch-icon sizes=180x180 href=https://rayyildiz.com/images/apple-touch-icon.png>
<meta name=generator content="Hugo 0.91.2">
</head>
<body class="preload-transitions colorscheme-auto">
<div class=float-container>
<a id=dark-mode-toggle class=colorscheme-toggle>
<i class="fa fa-adjust fa-fw" aria-hidden=true></i>
</a>
</div>
<main class=wrapper>
<nav class=navigation>
<section class=container>
<a class=navigation-title href=https://rayyildiz.com/tr>
Ramazan AYYILDIZ
</a>
<input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle>
<i class="fa fa-bars fa-fw" aria-hidden=true></i>
</label>
<ul class=navigation-list>
<li class=navigation-item>
<a class=navigation-link href=https://rayyildiz.com/tr/posts/>Tüm Yazılar</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://rayyildiz.com/tr/series>Yazı Dizileri</a>
</li>
<li class=navigation-item>
<a class=navigation-link href=https://rayyildiz.com/tr/categories/arsiv/>Arşiv</a>
</li>
<li class="navigation-item menu-separator">
<span>|</span>
</li>
<li class=navigation-item>
<a href=https://rayyildiz.com/>English</a>
</li>
</ul>
</section>
</nav>
<div class=content>
<section class="container post">
<article>
<header>
<div class=post-title>
<h1 class=title>
<a class=title-link href=https://rayyildiz.com/tr/posts/jdk6-ile-dependency-injection/>
JDK6 da Dependency Injection (ServiceLoader)
</a>
</h1>
</div>
<div class=post-meta>
<div class=date>
<span class=posted-on>
<i class="fa fa-calendar" aria-hidden=true></i>
<time datetime=2010-08-22T00:00:00Z>
August 22, 2010
</time>
</span>
<span class=reading-time>
<i class="fa fa-clock-o" aria-hidden=true></i>
Bir dakikalık okuma
</span>
</div>
<div class=categories>
<i class="fa fa-folder" aria-hidden=true></i>
<a href=https://rayyildiz.com/tr/categories/genel/>Genel</a>
<span class=separator>•</span>
<a href=https://rayyildiz.com/tr/categories/yazilim-gelistirme/>Yazilim Gelistirme</a></div>
<div class=tags>
<i class="fa fa-tag" aria-hidden=true></i>
<span class=tag>
<a href=https://rayyildiz.com/tr/tags/java/>java</a>
</span></div>
</div>
</header>
<div>
<p>JDK6 da ise ServiceLoader gelmektedir. <a href=http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/util/ServiceLoader.html>ServiceLoader</a> sayesinde bir nevi DI sağlamış olmaktayız. Bunun nasıl yapacağımızı bir örnekle gösterelim.</p>
<p>Uygulamanın örnek test kodlarını <a href=http://github.com/rayyildiz/UserAuthSample>github</a> üzerinden bulabilmeniz mümkündür.</p>
<p>Bu örneği yapabilmek için 3 tane proje oluşturalım. Bu 3 proje ve açıklaması şu şekildedir:</p>
<p><strong>UserAuth</strong>: Arayüzün yer aldığı proje.IUserAuthService diye bir arayüz yer almakta ve bu arayüz login diye bir metot tanımı içermektedir.</p>
<p><strong>UserAuthImpl</strong>: Uygulamanın gerçekleştirildiği sınıf yer alır.</p>
<p><strong>UserAuthTest</strong>: Main sınıfının yer aldığı örnek uygulamadır.</p>
<p><img src=https://rayyildiz.com/images/project_tree1.jpg alt="Project Tree"></p>
<p>Arayüzün yer aldığı UserAuth projesinde farklı olarak META-INF/services klasörü- ve bu klasör içinde com.rayyildiz.userauth.IUserAuthService dosyası yer almaktadır. Bu dosya içine bakarsanız sadece bir satır yer almaktadır.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>com.rayyildiz.userauth.impl.UserAuthService
</code></pre></div><p>ServiceLoader bu dosyalara bakarak hangi implemantosyunu yüklemesi gerektiğini anlar. UserAuth.jar implementasyonun yer aldığı UserAuthImpl.jar referans olarak bilmez. SericeLoader load sırasında bu implementasyonu arayacaktır.</p>
<p>Burada asıl önemli test projemize bakalım:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=color:#ff79c6>package</span> com.rayyildiz.userauth<span style=color:#ff79c6>;</span>

<span style=color:#ff79c6>import</span> java.util.Iterator<span style=color:#ff79c6>;</span>
<span style=color:#ff79c6>import</span> java.util.ServiceLoader<span style=color:#ff79c6>;</span>

<span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd;font-style:italic>class</span> <span style=color:#50fa7b>Main</span> <span style=color:#ff79c6>{</span>
    <span style=color:#8be9fd;font-style:italic>public</span> <span style=color:#8be9fd;font-style:italic>static</span> <span style=color:#8be9fd>void</span> <span style=color:#50fa7b>main</span><span style=color:#ff79c6>(</span>String<span style=color:#ff79c6>[]</span> args<span style=color:#ff79c6>)</span> <span style=color:#ff79c6>{</span>
        ServiceLoader<span style=color:#ff79c6>&lt;</span>IUserAuthService<span style=color:#ff79c6>&gt;</span> loader <span style=color:#ff79c6>=</span> ServiceLoader<span style=color:#ff79c6>.</span><span style=color:#50fa7b>load</span><span style=color:#ff79c6>(</span>IUserAuthService<span style=color:#ff79c6>.</span><span style=color:#50fa7b>class</span><span style=color:#ff79c6>);</span>
        Iterator<span style=color:#ff79c6>&lt;</span>IUserAuthService<span style=color:#ff79c6>&gt;</span> iterator <span style=color:#ff79c6>=</span> loader<span style=color:#ff79c6>.</span><span style=color:#50fa7b>iterator</span><span style=color:#ff79c6>();</span>
        <span style=color:#ff79c6>while</span><span style=color:#ff79c6>(</span>iterator<span style=color:#ff79c6>!=</span> <span style=color:#ff79c6>null</span> <span style=color:#ff79c6>&amp;&amp;</span> iterator<span style=color:#ff79c6>.</span><span style=color:#50fa7b>hasNext</span><span style=color:#ff79c6>()){</span>
            IUserAuthService userAuthService <span style=color:#ff79c6>=</span> iterator<span style=color:#ff79c6>.</span><span style=color:#50fa7b>next</span><span style=color:#ff79c6>();</span>
            <span style=color:#8be9fd>boolean</span> login <span style=color:#ff79c6>=</span> userAuthService<span style=color:#ff79c6>.</span><span style=color:#50fa7b>login</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;demo&#34;</span><span style=color:#ff79c6>,</span> <span style=color:#f1fa8c>&#34;password&#34;</span><span style=color:#ff79c6>);</span>
            System<span style=color:#ff79c6>.</span><span style=color:#50fa7b>out</span><span style=color:#ff79c6>.</span><span style=color:#50fa7b>println</span><span style=color:#ff79c6>(</span><span style=color:#f1fa8c>&#34;Login for username: demo and password:password is &#34;</span> <span style=color:#ff79c6>+</span> login<span style=color:#ff79c6>);</span>
        <span style=color:#ff79c6>}</span>
    <span style=color:#ff79c6>}</span>
<span style=color:#ff79c6>}</span>
</code></pre></div><p>Gördüğünüz gibi test uygulaması implementasyon nesnesini görmez. ServiceLoader META-INF/services içinde yer alan dosyalara bakarak implementasyon nesnelerini örnek projenin olduğu klasörde ve CLASSPATH de arar.</p>
</div>
<footer>
</footer>
</article>
</section>
</div>
<footer class=footer>
<section class=container>
©
2022
Ramazan AYYILDIZ
·
Site program altyapısı <a href=https://gohugo.io/>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/>Coder</a>.
</section>
</footer>
</main>
<script src=https://rayyildiz.com/js/coder.min.39a51230dce2ac866c049b52573e38bf60666af4bc63c1bdf203b9b2d95b1cd6.js integrity="sha256-OaUSMNzirIZsBJtSVz44v2BmavS8Y8G98gO5stlbHNY="></script>
<script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "4a40048cb8384ec59ccaa0a0a9881476"}'></script>
</body>
</html>